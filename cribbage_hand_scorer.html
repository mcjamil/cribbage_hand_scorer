<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module cribbage_hand_scorer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>cribbage_hand_scorer</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/Users/mustafa/code/cribbage_hand_scorer/cribbage_hand_scorer.py">/Users/mustafa/code/cribbage_hand_scorer/cribbage_hand_scorer.py</a></font></td></tr></table>
    <p><tt>This&nbsp;is&nbsp;a&nbsp;cribbage&nbsp;scorer.&nbsp;It&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;module&nbsp;to&nbsp;score<br>
a&nbsp;cribbage&nbsp;hand.&nbsp;The&nbsp;most&nbsp;relevant&nbsp;function&nbsp;is&nbsp;<a href="#-score">score</a>();&nbsp;all&nbsp;other&nbsp;functions<br>
are&nbsp;utilized&nbsp;by&nbsp;<a href="#-score">score</a>()&nbsp;to&nbsp;generate&nbsp;the&nbsp;score&nbsp;for&nbsp;a&nbsp;given&nbsp;hand.&nbsp;The&nbsp;caller<br>
can&nbsp;specify&nbsp;a&nbsp;top-of-deck&nbsp;card&nbsp;as&nbsp;an&nbsp;option;&nbsp;if&nbsp;specified,&nbsp;his&nbsp;nibs&nbsp;will<br>
also&nbsp;be&nbsp;scored.<br>
&nbsp;<br>
Key&nbsp;values&nbsp;(e.g.,&nbsp;how&nbsp;many&nbsp;cards&nbsp;constitute&nbsp;a&nbsp;minimum-sized&nbsp;hand)&nbsp;are<br>
defined&nbsp;as&nbsp;constants&nbsp;so&nbsp;the&nbsp;rules&nbsp;of&nbsp;cribbage&nbsp;can&nbsp;be<br>
easily&nbsp;manipulated&nbsp;if&nbsp;necessary.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-print_score"><strong>print_score</strong></a>(scored_hands_with_topper)</dt><dd><tt>For&nbsp;each&nbsp;scored&nbsp;hand&nbsp;provided&nbsp;as&nbsp;input,&nbsp;print&nbsp;each&nbsp;combination&nbsp;of<br>
hand&nbsp;and&nbsp;top-of-deck&nbsp;card,&nbsp;and&nbsp;its&nbsp;associated&nbsp;score<br>
&nbsp;<br>
:param&nbsp;scored_hands_with_topper:&nbsp;tuple&nbsp;of&nbsp;scored&nbsp;hands&nbsp;and&nbsp;top-of-deck&nbsp;card<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where&nbsp;scored&nbsp;hands&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;tuples&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;format<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(score&nbsp;for&nbsp;a&nbsp;given&nbsp;card&nbsp;combination,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;given&nbsp;card&nbsp;combination)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;top-of-deck&nbsp;card&nbsp;is&nbsp;a&nbsp;card&nbsp;tuple<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.g.,&nbsp;([(20,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((2,&nbsp;'h'),&nbsp;(6,&nbsp;'h'),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(7,&nbsp;'h'),&nbsp;(8,&nbsp;'h')))],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(7,&nbsp;'d'))<br>
:type&nbsp;scored_hands_with_topper:&nbsp;tuple(<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list[tuple(int,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tuple(tuple(int,&nbsp;str),&nbsp;...))],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tuple(int,&nbsp;str)&nbsp;or&nbsp;None)</tt></dd></dl>
 <dl><dt><a name="-score"><strong>score</strong></a>(cards, top_of_deck_card=None)</dt><dd><tt>This&nbsp;generates&nbsp;a&nbsp;cribbage&nbsp;score&nbsp;for&nbsp;an&nbsp;arbitrary&nbsp;sized&nbsp;list&nbsp;of&nbsp;cards.<br>
It&nbsp;will&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;combinations&nbsp;of&nbsp;MIN_HAND_SIZE&nbsp;and&nbsp;score&nbsp;each.<br>
&nbsp;<br>
:param&nbsp;cards:&nbsp;list&nbsp;of&nbsp;card&nbsp;tuples&nbsp;(e.g.,&nbsp;[(5,&nbsp;'h'),&nbsp;(3,&nbsp;'c')]&nbsp;)<br>
:type&nbsp;cards:&nbsp;list[tuple(int,&nbsp;str)]<br>
:param&nbsp;top_of_deck_card:&nbsp;card&nbsp;tuple&nbsp;(e.g.,&nbsp;(4,&nbsp;'c')&nbsp;)<br>
:type&nbsp;top_of_deck_card:&nbsp;tuple(int,&nbsp;str)&nbsp;or&nbsp;None<br>
:returns:&nbsp;tuple&nbsp;of&nbsp;scored&nbsp;hands&nbsp;and&nbsp;top-of-deck&nbsp;card&nbsp;where&nbsp;scored&nbsp;hands&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;list&nbsp;of&nbsp;tuples&nbsp;of&nbsp;the&nbsp;format&nbsp;(score&nbsp;for&nbsp;a&nbsp;given&nbsp;card&nbsp;combination,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;given&nbsp;card&nbsp;combination)&nbsp;and&nbsp;top-of-deck&nbsp;card&nbsp;is&nbsp;a&nbsp;card&nbsp;tuple<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.g.,&nbsp;([(20,&nbsp;((2,&nbsp;'h'),&nbsp;(6,&nbsp;'h'),&nbsp;(7,&nbsp;'h'),&nbsp;(8,&nbsp;'h')))],&nbsp;(7,&nbsp;'d'))<br>
:rtype:&nbsp;tuple(list[tuple(int,&nbsp;tuple(tuple(int,&nbsp;str),&nbsp;...))],<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tuple(int,&nbsp;str)&nbsp;or&nbsp;None)<br>
:raises&nbsp;Exception:&nbsp;if&nbsp;the&nbsp;hand&nbsp;or&nbsp;the&nbsp;top-of-deck&nbsp;card&nbsp;is&nbsp;invalid</tt></dd></dl>
 <dl><dt><a name="-score_flush"><strong>score_flush</strong></a>(cards)</dt><dd><tt>Score&nbsp;flush&nbsp;(if&nbsp;present)<br>
This&nbsp;assumes&nbsp;the&nbsp;last&nbsp;element&nbsp;in&nbsp;the&nbsp;parameter&nbsp;provided&nbsp;is&nbsp;the<br>
top-of-deck&nbsp;card<br>
&nbsp;<br>
:param&nbsp;cards:&nbsp;tuple&nbsp;of&nbsp;card&nbsp;tuples&nbsp;(e.g.,&nbsp;((5,&nbsp;'h'),&nbsp;(3,&nbsp;'c'))&nbsp;)<br>
:type&nbsp;cards:&nbsp;tuple(tuple(int,&nbsp;str),&nbsp;...)<br>
:returns:&nbsp;flush&nbsp;score<br>
:rtype:&nbsp;int</tt></dd></dl>
 <dl><dt><a name="-score_his_nibs"><strong>score_his_nibs</strong></a>(cards)</dt><dd><tt>Score&nbsp;his&nbsp;nibs&nbsp;(if&nbsp;present)<br>
This&nbsp;assumes&nbsp;the&nbsp;last&nbsp;element&nbsp;in&nbsp;the&nbsp;parameter&nbsp;provided&nbsp;is&nbsp;the<br>
top-of-deck&nbsp;card<br>
&nbsp;<br>
:param&nbsp;cards:&nbsp;tuple&nbsp;of&nbsp;card&nbsp;tuples&nbsp;(e.g.,&nbsp;((5,&nbsp;'h'),&nbsp;(3,&nbsp;'c'))&nbsp;)<br>
:type&nbsp;cards:&nbsp;tuple(tuple(int,&nbsp;str),&nbsp;...)<br>
:returns:&nbsp;his&nbsp;nibs&nbsp;score<br>
:rtype:&nbsp;int</tt></dd></dl>
 <dl><dt><a name="-score_min_card_combo"><strong>score_min_card_combo</strong></a>(cards, top_of_deck_card)</dt><dd><tt>Score&nbsp;a&nbsp;hand<br>
&nbsp;<br>
:param&nbsp;cards:&nbsp;tuple&nbsp;of&nbsp;card&nbsp;tuples&nbsp;(e.g.,&nbsp;((5,&nbsp;'h'),&nbsp;(3,&nbsp;'c'))&nbsp;)<br>
:type&nbsp;cards:&nbsp;tuple(tuple(int,&nbsp;str),&nbsp;...)<br>
:param&nbsp;top_of_deck_card:&nbsp;card&nbsp;tuple&nbsp;(e.g.,&nbsp;(4,&nbsp;'c')&nbsp;)<br>
:type&nbsp;top_of_deck_card:&nbsp;tuple(int,&nbsp;str)&nbsp;or&nbsp;None<br>
:returns:&nbsp;hand&nbsp;score<br>
:rtype:&nbsp;int</tt></dd></dl>
 <dl><dt><a name="-score_pairs"><strong>score_pairs</strong></a>(cards)</dt><dd><tt>Score&nbsp;pairs<br>
&nbsp;<br>
:param&nbsp;cards:&nbsp;tuple&nbsp;of&nbsp;card&nbsp;tuples&nbsp;(e.g.,&nbsp;((5,&nbsp;'h'),&nbsp;(3,&nbsp;'c'))&nbsp;)<br>
:type&nbsp;cards:&nbsp;tuple(tuple(int,&nbsp;str),&nbsp;...)<br>
:returns:&nbsp;sum&nbsp;of&nbsp;pairs<br>
:rtype:&nbsp;int</tt></dd></dl>
 <dl><dt><a name="-score_sequence"><strong>score_sequence</strong></a>(cards)</dt><dd><tt>Score&nbsp;a&nbsp;sequence&nbsp;(if&nbsp;present)<br>
&nbsp;<br>
:param&nbsp;cards:&nbsp;tuple&nbsp;of&nbsp;card&nbsp;tuples&nbsp;(e.g.,&nbsp;((5,&nbsp;'h'),&nbsp;(3,&nbsp;'c'))&nbsp;)<br>
:type&nbsp;cards:&nbsp;tuple(tuple(int,&nbsp;str),&nbsp;...)<br>
:returns:&nbsp;sequence&nbsp;score<br>
:rtype:&nbsp;int</tt></dd></dl>
 <dl><dt><a name="-score_sequences"><strong>score_sequences</strong></a>(cards)</dt><dd><tt>This&nbsp;function&nbsp;generates&nbsp;scores&nbsp;of&nbsp;any&nbsp;sequences&nbsp;present&nbsp;in&nbsp;valid<br>
subsets&nbsp;of&nbsp;the&nbsp;parameter&nbsp;provided.&nbsp;It&nbsp;then&nbsp;sums&nbsp;the&nbsp;max&nbsp;scores<br>
(since&nbsp;each&nbsp;max&nbsp;score&nbsp;represents&nbsp;the&nbsp;score&nbsp;for&nbsp;the&nbsp;longest&nbsp;unique&nbsp;sequence)<br>
&nbsp;<br>
:param&nbsp;cards:&nbsp;tuple&nbsp;of&nbsp;card&nbsp;tuples&nbsp;(e.g.,&nbsp;((5,&nbsp;'h'),&nbsp;(3,&nbsp;'c'))&nbsp;)<br>
:type&nbsp;cards:&nbsp;tuple(tuple(int,&nbsp;str),&nbsp;...)<br>
:returns:&nbsp;sum&nbsp;of&nbsp;max&nbsp;sequence&nbsp;scores&nbsp;(if&nbsp;sequences&nbsp;exist)<br>
:rtype:&nbsp;int</tt></dd></dl>
 <dl><dt><a name="-score_special_totals"><strong>score_special_totals</strong></a>(cards)</dt><dd><tt>Score&nbsp;special&nbsp;totals&nbsp;(which&nbsp;is&nbsp;15&nbsp;in&nbsp;usual&nbsp;cribbage).<br>
This&nbsp;ensures&nbsp;a&nbsp;given&nbsp;card&nbsp;can&nbsp;only&nbsp;have&nbsp;a&nbsp;max&nbsp;numeric&nbsp;value&nbsp;of<br>
MAX_CARD_NUMBER.<br>
&nbsp;<br>
:param&nbsp;cards:&nbsp;tuple&nbsp;of&nbsp;card&nbsp;tuples&nbsp;(e.g.,&nbsp;((5,&nbsp;'h'),&nbsp;(3,&nbsp;'c'))&nbsp;)<br>
:type&nbsp;cards:&nbsp;tuple(tuple(int,&nbsp;str),&nbsp;...)<br>
:returns:&nbsp;sum&nbsp;of&nbsp;special&nbsp;totals&nbsp;score<br>
:rtype:&nbsp;int</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>HIS_NIBS_SCORE</strong> = 1<br>
<strong>MAX_CARD_NUMBER</strong> = 10<br>
<strong>MIN_FLUSH_SIZE</strong> = 4<br>
<strong>MIN_HAND_SIZE</strong> = 4<br>
<strong>MIN_SEQUENCE_SIZE</strong> = 3<br>
<strong>PAIR_SCORE</strong> = 2<br>
<strong>SINGLE_CARD_SCORE</strong> = 1<br>
<strong>SPECIAL_TOTAL</strong> = 15<br>
<strong>SPECIAL_TOTAL_SCORE</strong> = 2</td></tr></table>
</body></html>